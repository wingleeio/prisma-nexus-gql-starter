# Migration `20200813031516-user-model`

This migration has been generated by Wing Lee at 8/12/2020, 8:15:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Role" AS ENUM ('USER', 'MODERATOR', 'ADMIN');

CREATE TABLE "public"."User" (
"id" SERIAL,
"joined" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"email" text  NOT NULL ,
"hashedPassword" text  NOT NULL ,
"role" "Role" NOT NULL DEFAULT E'USER',
PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "User.email_unique" ON "public"."User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200812060157-add-light-novel..20200813031516-user-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,27 @@
-datasource db {
-    provider = "postgresql"
-    url = "***"
+generator prisma_client {
+  provider = "prisma-client-js"
 }
-generator prisma_client {
-    provider = "prisma-client-js"
+datasource db {
+  provider = "postgresql"
+  url = "***"
 }
 model LightNovel {
-    id    Int    @id @default(autoincrement())
-    title String
+  id    Int    @default(autoincrement()) @id
+  title String
 }
+
+model User {
+  id             Int      @default(autoincrement()) @id
+  joined         DateTime @default(now())
+  email          String   @unique
+  hashedPassword String
+  role           Role     @default(USER)
+}
+
+enum Role {
+  USER
+  MODERATOR
+  ADMIN
+}
```


